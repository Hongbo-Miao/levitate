{"version":3,"file":"index.production.js","sources":["../../../.yarn/cache/tslib-npm-2.3.1-0e21e18015-de17a98d46.zip/node_modules/tslib/tslib.es6.js","../src/support/scenarioContext.ts","../src/support/selector.ts","../src/support/url.ts","../src/support/types.ts","../src/flows/selectOption.ts","../src/flows/setDashboardTimeRange.ts","../src/flows/setTimeRange.ts","../../../.yarn/cache/uuid-npm-8.3.0-2f98335399-b539886e6a.zip/node_modules/uuid/dist/esm-browser/rng.js","../../../.yarn/cache/uuid-npm-8.3.0-2f98335399-b539886e6a.zip/node_modules/uuid/dist/esm-browser/regex.js","../../../.yarn/cache/uuid-npm-8.3.0-2f98335399-b539886e6a.zip/node_modules/uuid/dist/esm-browser/validate.js","../../../.yarn/cache/uuid-npm-8.3.0-2f98335399-b539886e6a.zip/node_modules/uuid/dist/esm-browser/stringify.js","../../../.yarn/cache/uuid-npm-8.3.0-2f98335399-b539886e6a.zip/node_modules/uuid/dist/esm-browser/v4.js","../src/flows/addDashboard.ts","../src/flows/openPanelMenuItem.ts","../src/flows/configurePanel.ts","../src/flows/deleteDashboard.ts","../src/flows/deleteDataSource.ts","../src/typings/undo.ts","../src/flows/importDashboard.ts","../src/flows/addDataSource.ts","../src/flows/addPanel.ts","../src/flows/assertSuccessNotification.ts","../src/flows/editPanel.ts","../src/flows/login.ts","../src/flows/openDashboard.ts","../src/flows/revertAllChanges.ts","../src/flows/saveDashboard.ts","../src/flows/importDashboards.ts","../src/index.ts","../src/support/scenario.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { e2e } from '../index';\nimport { DeleteDashboardConfig } from '../flows/deleteDashboard';\nimport { DeleteDataSourceConfig } from '../flows/deleteDataSource';\n\nexport interface ScenarioContext {\n  addedDashboards: DeleteDashboardConfig[];\n  addedDataSources: DeleteDataSourceConfig[];\n  lastAddedDashboard: string; // @todo rename to `lastAddedDashboardTitle`\n  lastAddedDashboardUid: string;\n  lastAddedDataSource: string; // @todo rename to `lastAddedDataSourceName`\n  lastAddedDataSourceId: string;\n  [key: string]: any;\n}\n\nconst scenarioContext: ScenarioContext = {\n  addedDashboards: [],\n  addedDataSources: [],\n  get lastAddedDashboard() {\n    return lastProperty(this.addedDashboards, 'title');\n  },\n  get lastAddedDashboardUid() {\n    return lastProperty(this.addedDashboards, 'uid');\n  },\n  get lastAddedDataSource() {\n    return lastProperty(this.addedDataSources, 'name');\n  },\n  get lastAddedDataSourceId() {\n    return lastProperty(this.addedDataSources, 'id');\n  },\n};\n\nconst lastProperty = <T extends DeleteDashboardConfig | DeleteDataSourceConfig, K extends keyof T>(\n  items: T[],\n  key: K\n) => items[items.length - 1]?.[key] ?? '';\n\n// @todo this actually returns type `Cypress.Chainable`\nexport const getScenarioContext = (): any =>\n  e2e()\n    .wrap(\n      {\n        getScenarioContext: (): ScenarioContext => ({ ...scenarioContext }),\n      },\n      { log: false }\n    )\n    .invoke({ log: false }, 'getScenarioContext');\n\n// @todo this actually returns type `Cypress.Chainable`\nexport const setScenarioContext = (newContext: Partial<ScenarioContext>): any =>\n  e2e()\n    .wrap(\n      {\n        setScenarioContext: () => {\n          Object.entries(newContext).forEach(([key, value]) => {\n            scenarioContext[key] = value;\n          });\n        },\n      },\n      { log: false }\n    )\n    .invoke({ log: false }, 'setScenarioContext');\n","export interface SelectorApi {\n  fromAriaLabel: (selector: string) => string;\n  fromDataTestId: (selector: string) => string;\n  fromSelector: (selector: string) => string;\n}\n\nexport const Selector: SelectorApi = {\n  fromAriaLabel: (selector: string) => `[aria-label=\"${selector}\"]`,\n  fromDataTestId: (selector: string) => `[data-testid=\"${selector}\"]`,\n  fromSelector: (selector: string) => selector,\n};\n","import { e2e } from '../index';\n\nconst getBaseUrl = () => e2e.env('BASE_URL') || e2e.config().baseUrl || 'http://localhost:3000';\n\nexport const fromBaseUrl = (url = '') => new URL(url, getBaseUrl()).href;\n\nexport const getDashboardUid = (url: string): string => {\n  const matches = new URL(url).pathname.match(/\\/d\\/([^/]+)/);\n  if (!matches) {\n    throw new Error(`Couldn't parse uid from ${url}`);\n  } else {\n    return matches[1];\n  }\n};\n","import { CssSelector, FunctionSelector, Selectors, StringSelector, UrlSelector } from '@grafana/e2e-selectors';\nimport { e2e } from '../index';\nimport { Selector } from './selector';\nimport { fromBaseUrl } from './url';\n\nexport type VisitFunction = (args?: string, queryParams?: object) => Cypress.Chainable<Window>;\nexport type E2EVisit = { visit: VisitFunction };\nexport type E2EFunction = ((text?: string, options?: CypressOptions) => Cypress.Chainable<JQuery<HTMLElement>>) &\n  E2EFunctionWithOnlyOptions;\nexport type E2EFunctionWithOnlyOptions = (options?: CypressOptions) => Cypress.Chainable<JQuery<HTMLElement>>;\n\nexport type TypeSelectors<S> = S extends StringSelector\n  ? E2EFunctionWithOnlyOptions\n  : S extends FunctionSelector\n  ? E2EFunction\n  : S extends CssSelector\n  ? E2EFunction\n  : S extends UrlSelector\n  ? E2EVisit & Omit<E2EFunctions<S>, 'url'>\n  : S extends Record<any, any>\n  ? E2EFunctions<S>\n  : S;\n\nexport type E2EFunctions<S extends Selectors> = {\n  [P in keyof S]: TypeSelectors<S[P]>;\n};\n\nexport type E2EObjects<S extends Selectors> = E2EFunctions<S>;\n\nexport type E2EFactoryArgs<S extends Selectors> = { selectors: S };\n\nexport type CypressOptions = Partial<Cypress.Loggable & Cypress.Timeoutable & Cypress.Withinable & Cypress.Shadow>;\n\nconst processSelectors = <S extends Selectors>(e2eObjects: E2EFunctions<S>, selectors: S): E2EFunctions<S> => {\n  const logOutput = (data: any) => e2e().logToConsole('Retrieving Selector:', data);\n  const keys = Object.keys(selectors);\n  for (let index = 0; index < keys.length; index++) {\n    const key = keys[index];\n    const value = selectors[key];\n\n    if (key === 'url') {\n      // @ts-ignore\n      e2eObjects['visit'] = (args?: string, queryParams?: object) => {\n        let parsedUrl = '';\n        if (typeof value === 'string') {\n          parsedUrl = fromBaseUrl(value);\n        }\n\n        if (typeof value === 'function' && args) {\n          parsedUrl = fromBaseUrl(value(args));\n        }\n\n        e2e().logToConsole('Visiting', parsedUrl);\n        if (queryParams) {\n          return e2e().visit({ url: parsedUrl, qs: queryParams });\n        } else {\n          return e2e().visit(parsedUrl);\n        }\n      };\n\n      continue;\n    }\n\n    if (typeof value === 'string') {\n      // @ts-ignore\n      e2eObjects[key] = (options?: CypressOptions) => {\n        logOutput(value);\n        const selector = value.startsWith('data-testid')\n          ? Selector.fromDataTestId(value)\n          : Selector.fromAriaLabel(value);\n\n        return e2e().get(selector, options);\n      };\n\n      continue;\n    }\n\n    if (typeof value === 'function') {\n      // @ts-ignore\n      e2eObjects[key] = function (textOrOptions?: string | CypressOptions, options?: CypressOptions) {\n        // the input can only be ()\n        if (arguments.length === 0) {\n          const selector = value((undefined as unknown) as string);\n\n          logOutput(selector);\n          return e2e().get(selector);\n        }\n\n        // the input can be (text) or (options)\n        if (arguments.length === 1) {\n          if (typeof textOrOptions === 'string') {\n            const selectorText = value(textOrOptions);\n            const selector = selectorText.startsWith('data-testid')\n              ? Selector.fromDataTestId(selectorText)\n              : Selector.fromAriaLabel(selectorText);\n\n            logOutput(selector);\n            return e2e().get(selector);\n          }\n          const selector = value((undefined as unknown) as string);\n\n          logOutput(selector);\n          return e2e().get(selector, textOrOptions);\n        }\n\n        // the input can only be (text, options)\n        if (arguments.length === 2 && typeof textOrOptions === 'string') {\n          const text = textOrOptions;\n          const selectorText = value(text);\n          const selector = text.startsWith('data-testid')\n            ? Selector.fromDataTestId(selectorText)\n            : Selector.fromAriaLabel(selectorText);\n\n          logOutput(selector);\n          return e2e().get(selector, options);\n        }\n      };\n\n      continue;\n    }\n\n    if (typeof value === 'object') {\n      // @ts-ignore\n      e2eObjects[key] = processSelectors({}, value);\n    }\n  }\n\n  return e2eObjects;\n};\n\nexport const e2eFactory = <S extends Selectors>({ selectors }: E2EFactoryArgs<S>): E2EObjects<S> => {\n  const e2eObjects: E2EFunctions<S> = {} as E2EFunctions<S>;\n  processSelectors(e2eObjects, selectors);\n\n  return { ...e2eObjects };\n};\n","import { e2e } from '../index';\n\nexport interface SelectOptionConfig {\n  clickToOpen?: boolean;\n  container: any;\n  forceClickOption?: boolean;\n  optionText: string | RegExp;\n}\n\n// @todo this actually returns type `Cypress.Chainable`\nexport const selectOption = (config: SelectOptionConfig): any => {\n  const fullConfig: SelectOptionConfig = {\n    clickToOpen: true,\n    forceClickOption: false,\n    ...config,\n  };\n\n  const { clickToOpen, container, forceClickOption, optionText } = fullConfig;\n\n  container.within(() => {\n    if (clickToOpen) {\n      e2e().get('[class$=\"-input-suffix\"]').click();\n    }\n  });\n\n  return e2e.components.Select.option()\n    .filter((_, { textContent }) => {\n      if (textContent === null) {\n        return false;\n      } else if (typeof optionText === 'string') {\n        return textContent.includes(optionText);\n      } else {\n        return optionText.test(textContent);\n      }\n    })\n    .scrollIntoView()\n    .click({ force: forceClickOption });\n};\n","import { setTimeRange, TimeRangeConfig } from './setTimeRange';\n\nexport { TimeRangeConfig };\n\nexport const setDashboardTimeRange = (config: TimeRangeConfig) => setTimeRange(config);\n","import { e2e } from '../index';\nimport { selectOption } from './selectOption';\n\nexport interface TimeRangeConfig {\n  from: string;\n  to: string;\n  zone?: string;\n}\n\nexport const setTimeRange = ({ from, to, zone }: TimeRangeConfig) => {\n  e2e.components.TimePicker.openButton().click();\n\n  if (zone) {\n    e2e().contains('button', 'Change time settings').click();\n\n    if (e2e.components.TimeZonePicker.containerV2) {\n      selectOption({\n        clickToOpen: true,\n        container: e2e.components.TimeZonePicker.containerV2(),\n        optionText: zone,\n      });\n    } else {\n      selectOption({\n        clickToOpen: true,\n        container: e2e.components.TimeZonePicker.container(),\n        optionText: zone,\n      });\n    }\n  }\n\n  // For smaller screens\n  e2e.components.TimePicker.absoluteTimeRangeTitle().click();\n\n  e2e.components.TimePicker.fromField().clear().type(from);\n  e2e.components.TimePicker.toField().clear().type(to);\n\n  e2e.components.TimePicker.applyTimeRange().click();\n};\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import { DeleteDashboardConfig } from './deleteDashboard';\nimport { e2e } from '../index';\nimport { getDashboardUid } from '../support/url';\nimport { setDashboardTimeRange, TimeRangeConfig } from './setDashboardTimeRange';\nimport { v4 as uuidv4 } from 'uuid';\nimport { selectOption } from './selectOption';\n\nexport interface AddAnnotationConfig {\n  dataSource: string;\n  dataSourceForm?: () => void;\n  name: string;\n}\n\nexport interface AddDashboardConfig {\n  annotations: AddAnnotationConfig[];\n  timeRange: TimeRangeConfig;\n  title: string;\n  variables: PartialAddVariableConfig[];\n}\n\ninterface AddVariableDefault {\n  hide: string;\n  type: string;\n}\n\ninterface AddVariableOptional {\n  constantValue?: string;\n  dataSource?: string;\n  label?: string;\n  query?: string;\n  regex?: string;\n}\n\ninterface AddVariableRequired {\n  name: string;\n}\n\nexport type PartialAddVariableConfig = Partial<AddVariableDefault> & AddVariableOptional & AddVariableRequired;\nexport type AddVariableConfig = AddVariableDefault & AddVariableOptional & AddVariableRequired;\n\nexport const addDashboard = (config?: Partial<AddDashboardConfig>) => {\n  const fullConfig: AddDashboardConfig = {\n    annotations: [],\n    title: `e2e-${uuidv4()}`,\n    variables: [],\n    ...config,\n    timeRange: {\n      from: '2020-01-01 00:00:00',\n      to: '2020-01-01 06:00:00',\n      zone: 'Coordinated Universal Time',\n      ...config?.timeRange,\n    },\n  };\n\n  const { annotations, timeRange, title, variables } = fullConfig;\n\n  e2e().logToConsole('Adding dashboard with title:', title);\n\n  e2e.pages.AddDashboard.visit();\n\n  if (annotations.length > 0 || variables.length > 0) {\n    e2e.components.PageToolbar.item('Dashboard settings').click();\n    addAnnotations(annotations);\n\n    fullConfig.variables = addVariables(variables);\n\n    e2e.components.BackButton.backArrow().should('be.visible').click({ force: true });\n  }\n\n  setDashboardTimeRange(timeRange);\n\n  e2e.components.PageToolbar.item('Save dashboard').click();\n  e2e.pages.SaveDashboardAsModal.newName().clear().type(title);\n  e2e.pages.SaveDashboardAsModal.save().click();\n  e2e.flows.assertSuccessNotification();\n\n  e2e().logToConsole('Added dashboard with title:', title);\n\n  return e2e()\n    .url()\n    .should('contain', '/d/')\n    .then((url: string) => {\n      const uid = getDashboardUid(url);\n\n      e2e.getScenarioContext().then(({ addedDashboards }: any) => {\n        e2e.setScenarioContext({\n          addedDashboards: [...addedDashboards, { title, uid } as DeleteDashboardConfig],\n        });\n      });\n\n      // @todo remove `wrap` when possible\n      return e2e().wrap(\n        {\n          config: fullConfig,\n          uid,\n        },\n        { log: false }\n      );\n    });\n};\n\nconst addAnnotation = (config: AddAnnotationConfig, isFirst: boolean) => {\n  if (isFirst) {\n    if (e2e.pages.Dashboard.Settings.Annotations.List.addAnnotationCTAV2) {\n      e2e.pages.Dashboard.Settings.Annotations.List.addAnnotationCTAV2().click();\n    } else {\n      e2e.pages.Dashboard.Settings.Annotations.List.addAnnotationCTA().click();\n    }\n  } else {\n    cy.contains('New query').click();\n  }\n\n  const { dataSource, dataSourceForm, name } = config;\n\n  selectOption({\n    container: e2e.components.DataSourcePicker.container(),\n    optionText: dataSource,\n  });\n\n  e2e.pages.Dashboard.Settings.Annotations.Settings.name().clear().type(name);\n\n  if (dataSourceForm) {\n    dataSourceForm();\n  }\n};\n\nconst addAnnotations = (configs: AddAnnotationConfig[]) => {\n  if (configs.length > 0) {\n    e2e.pages.Dashboard.Settings.General.sectionItems('Annotations').click();\n  }\n\n  return configs.forEach((config, i) => addAnnotation(config, i === 0));\n};\n\nexport const VARIABLE_HIDE_LABEL = 'Label';\nexport const VARIABLE_HIDE_NOTHING = '';\nexport const VARIABLE_HIDE_VARIABLE = 'Variable';\n\nexport const VARIABLE_TYPE_AD_HOC_FILTERS = 'Ad hoc filters';\nexport const VARIABLE_TYPE_CONSTANT = 'Constant';\nexport const VARIABLE_TYPE_DATASOURCE = 'Datasource';\nexport const VARIABLE_TYPE_QUERY = 'Query';\n\nconst addVariable = (config: PartialAddVariableConfig, isFirst: boolean): AddVariableConfig => {\n  const fullConfig = {\n    hide: VARIABLE_HIDE_NOTHING,\n    type: VARIABLE_TYPE_QUERY,\n    ...config,\n  };\n\n  if (isFirst) {\n    if (e2e.pages.Dashboard.Settings.Variables.List.addVariableCTAV2) {\n      e2e.pages.Dashboard.Settings.Variables.List.addVariableCTAV2().click();\n    } else {\n      e2e.pages.Dashboard.Settings.Variables.List.addVariableCTA().click();\n    }\n  } else {\n    e2e.pages.Dashboard.Settings.Variables.List.newButton().click();\n  }\n\n  const { constantValue, dataSource, label, name, query, regex, type } = fullConfig;\n\n  // This field is key to many reactive changes\n  if (type !== VARIABLE_TYPE_QUERY) {\n    e2e.pages.Dashboard.Settings.Variables.Edit.General.generalTypeSelect()\n      .should('be.visible')\n      .within(() => {\n        e2e.components.Select.singleValue().should('have.text', 'Query').click();\n      });\n    e2e.components.Select.option().should('be.visible').contains(type).click();\n  }\n\n  if (label) {\n    e2e.pages.Dashboard.Settings.Variables.Edit.General.generalLabelInput().type(label);\n  }\n\n  e2e.pages.Dashboard.Settings.Variables.Edit.General.generalNameInput().clear().type(name);\n\n  if (\n    dataSource &&\n    (type === VARIABLE_TYPE_AD_HOC_FILTERS || type === VARIABLE_TYPE_DATASOURCE || type === VARIABLE_TYPE_QUERY)\n  ) {\n    e2e.pages.Dashboard.Settings.Variables.Edit.QueryVariable.queryOptionsDataSourceSelect()\n      .should('be.visible')\n      .within(() => {\n        e2e.components.Select.input().should('be.visible').type(`${dataSource}{enter}`);\n      });\n  }\n\n  if (constantValue && type === VARIABLE_TYPE_CONSTANT) {\n    e2e.pages.Dashboard.Settings.Variables.Edit.ConstantVariable.constantOptionsQueryInput().type(constantValue);\n  }\n\n  if (type === VARIABLE_TYPE_QUERY) {\n    if (query) {\n      e2e.pages.Dashboard.Settings.Variables.Edit.QueryVariable.queryOptionsQueryInput().type(query);\n    }\n\n    if (regex) {\n      e2e.pages.Dashboard.Settings.Variables.Edit.QueryVariable.queryOptionsRegExInput().type(regex);\n    }\n  }\n\n  // Avoid flakiness\n  e2e().focused().blur();\n\n  e2e.pages.Dashboard.Settings.Variables.Edit.General.previewOfValuesOption()\n    .should('exist')\n    .within((previewOfValues) => {\n      if (type === VARIABLE_TYPE_CONSTANT) {\n        expect(previewOfValues.text()).equals(constantValue);\n      }\n    });\n\n  e2e.pages.Dashboard.Settings.Variables.Edit.General.submitButton().click();\n\n  return fullConfig;\n};\n\nconst addVariables = (configs: PartialAddVariableConfig[]): AddVariableConfig[] => {\n  if (configs.length > 0) {\n    e2e.pages.Dashboard.Settings.General.sectionItems('Variables').click();\n  }\n\n  return configs.map((config, i) => addVariable(config, i === 0));\n};\n","import { e2e } from '../index';\n\nexport enum PanelMenuItems {\n  Edit = 'Edit',\n  Inspect = 'Inspect',\n}\n\nexport const openPanelMenuItem = (menu: PanelMenuItems, panelTitle = 'Panel Title') => {\n  e2e.components.Panels.Panel.title(panelTitle).should('be.visible').click();\n\n  e2e.components.Panels.Panel.headerItems(menu).should('be.visible').click();\n};\n","import { e2e } from '../index';\nimport { getScenarioContext } from '../support/scenarioContext';\nimport { selectOption } from './selectOption';\nimport { setDashboardTimeRange } from './setDashboardTimeRange';\nimport { TimeRangeConfig } from './setTimeRange';\n\ninterface AddPanelOverrides {\n  dataSourceName: string;\n  queriesForm: (config: AddPanelConfig) => void;\n  panelTitle: string;\n}\n\ninterface EditPanelOverrides {\n  queriesForm?: (config: EditPanelConfig) => void;\n  panelTitle: string;\n}\n\ninterface ConfigurePanelDefault {\n  chartData: {\n    method: string;\n    route: string | RegExp;\n  };\n  dashboardUid: string;\n  matchScreenshot: boolean;\n  saveDashboard: boolean;\n  screenshotName: string;\n  visitDashboardAtStart: boolean; // @todo remove when possible\n}\n\ninterface ConfigurePanelOptional {\n  dataSourceName?: string;\n  queriesForm?: (config: ConfigurePanelConfig) => void;\n  panelTitle?: string;\n  timeRange?: TimeRangeConfig;\n  visualizationName?: string;\n}\n\ninterface ConfigurePanelRequired {\n  isEdit: boolean;\n}\n\nexport type PartialConfigurePanelConfig = Partial<ConfigurePanelDefault> &\n  ConfigurePanelOptional &\n  ConfigurePanelRequired;\n\nexport type ConfigurePanelConfig = ConfigurePanelDefault & ConfigurePanelOptional & ConfigurePanelRequired;\n\nexport type PartialAddPanelConfig = PartialConfigurePanelConfig & AddPanelOverrides;\nexport type AddPanelConfig = ConfigurePanelConfig & AddPanelOverrides;\n\nexport type PartialEditPanelConfig = PartialConfigurePanelConfig & EditPanelOverrides;\nexport type EditPanelConfig = ConfigurePanelConfig & EditPanelOverrides;\n\n// @todo this actually returns type `Cypress.Chainable<AddPanelConfig | EditPanelConfig | ConfigurePanelConfig>`\nexport const configurePanel = (config: PartialAddPanelConfig | PartialEditPanelConfig | PartialConfigurePanelConfig) =>\n  getScenarioContext().then(({ lastAddedDashboardUid }: any) => {\n    const fullConfig: AddPanelConfig | EditPanelConfig | ConfigurePanelConfig = {\n      chartData: {\n        method: 'POST',\n        route: '/api/ds/query',\n      },\n      dashboardUid: lastAddedDashboardUid,\n      matchScreenshot: false,\n      saveDashboard: true,\n      screenshotName: 'panel-visualization',\n      visitDashboardAtStart: true,\n      ...config,\n    };\n\n    const {\n      chartData,\n      dashboardUid,\n      dataSourceName,\n      isEdit,\n      matchScreenshot,\n      panelTitle,\n      queriesForm,\n      screenshotName,\n      timeRange,\n      visitDashboardAtStart,\n      visualizationName,\n    } = fullConfig;\n\n    if (visitDashboardAtStart) {\n      e2e.flows.openDashboard({ uid: dashboardUid });\n    }\n\n    if (isEdit) {\n      e2e.components.Panels.Panel.title(panelTitle).click();\n      e2e.components.Panels.Panel.headerItems('Edit').click();\n    } else {\n      e2e.components.PageToolbar.item('Add panel').click();\n      e2e.pages.AddDashboard.addNewPanel().click();\n    }\n\n    if (timeRange) {\n      setDashboardTimeRange(timeRange);\n    }\n\n    // @todo alias '/**/*.js*' as '@pluginModule' when possible: https://github.com/cypress-io/cypress/issues/1296\n\n    e2e().intercept(chartData.method, chartData.route).as('chartData');\n\n    if (dataSourceName) {\n      selectOption({\n        container: e2e.components.DataSourcePicker.container(),\n        optionText: dataSourceName,\n      });\n    }\n\n    // @todo instead wait for '@pluginModule' if not already loaded\n    e2e().wait(2000);\n\n    // `panelTitle` is needed to edit the panel, and unlikely to have its value changed at that point\n    const changeTitle = panelTitle && !isEdit;\n\n    if (changeTitle || visualizationName) {\n      if (changeTitle && panelTitle) {\n        e2e.components.PanelEditor.OptionsPane.fieldLabel('Panel options Title').type(`{selectall}${panelTitle}`);\n      }\n\n      if (visualizationName) {\n        e2e.components.PluginVisualization.item(visualizationName).scrollIntoView().click();\n\n        // @todo wait for '@pluginModule' if not a core visualization and not already loaded\n        e2e().wait(2000);\n      }\n    } else {\n      // Consistently closed\n      closeOptions();\n    }\n\n    if (queriesForm) {\n      queriesForm(fullConfig);\n      e2e().wait('@chartData');\n\n      // Wait for a possible complex visualization to render (or something related, as this isn't necessary on the dashboard page)\n      // Can't assert that its HTML changed because a new query could produce the same results\n      e2e().wait(1000);\n    }\n\n    // @todo enable when plugins have this implemented\n    //e2e.components.QueryEditorRow.actionButton('Disable/enable query').click();\n    //e2e().wait('@chartData');\n    //e2e.components.Panels.Panel.containerByTitle(panelTitle).find('.panel-content').contains('No data');\n    //e2e.components.QueryEditorRow.actionButton('Disable/enable query').click();\n    //e2e().wait('@chartData');\n\n    // Avoid annotations flakiness\n    e2e.components.RefreshPicker.runButton().should('be.visible').click();\n\n    e2e().wait('@chartData');\n\n    // Wait for RxJS\n    e2e().wait(500);\n\n    if (matchScreenshot) {\n      let visualization;\n\n      visualization = e2e.components.Panels.Panel.containerByTitle(panelTitle).find('.panel-content');\n\n      visualization.scrollIntoView().screenshot(screenshotName);\n      e2e().compareScreenshots(screenshotName);\n    }\n\n    // @todo remove `wrap` when possible\n    return e2e().wrap({ config: fullConfig }, { log: false });\n  });\n\n// @todo this actually returns type `Cypress.Chainable`\nconst closeOptions = () => e2e.components.PanelEditor.toggleVizOptions().click();\n\nexport const VISUALIZATION_ALERT_LIST = 'Alert list';\nexport const VISUALIZATION_BAR_GAUGE = 'Bar gauge';\nexport const VISUALIZATION_CLOCK = 'Clock';\nexport const VISUALIZATION_DASHBOARD_LIST = 'Dashboard list';\nexport const VISUALIZATION_GAUGE = 'Gauge';\nexport const VISUALIZATION_GRAPH = 'Graph';\nexport const VISUALIZATION_HEAT_MAP = 'Heatmap';\nexport const VISUALIZATION_LOGS = 'Logs';\nexport const VISUALIZATION_NEWS = 'News';\nexport const VISUALIZATION_PIE_CHART = 'Pie Chart';\nexport const VISUALIZATION_PLUGIN_LIST = 'Plugin list';\nexport const VISUALIZATION_POLYSTAT = 'Polystat';\nexport const VISUALIZATION_STAT = 'Stat';\nexport const VISUALIZATION_TABLE = 'Table';\nexport const VISUALIZATION_TEXT = 'Text';\nexport const VISUALIZATION_WORLD_MAP = 'Worldmap Panel';\n","import { e2e } from '../index';\nimport { fromBaseUrl } from '../support/url';\n\nexport interface DeleteDashboardConfig {\n  quick?: boolean;\n  title: string;\n  uid: string;\n}\n\nexport const deleteDashboard = ({ quick = false, title, uid }: DeleteDashboardConfig) => {\n  e2e().logToConsole('Deleting dashboard with uid:', uid);\n\n  if (quick) {\n    quickDelete(uid);\n  } else {\n    uiDelete(uid, title);\n  }\n\n  e2e().logToConsole('Deleted dashboard with uid:', uid);\n\n  e2e.getScenarioContext().then(({ addedDashboards }: any) => {\n    e2e.setScenarioContext({\n      addedDashboards: addedDashboards.filter((dashboard: DeleteDashboardConfig) => {\n        return dashboard.title !== title && dashboard.uid !== uid;\n      }),\n    });\n  });\n};\n\nconst quickDelete = (uid: string) => {\n  e2e().request('DELETE', fromBaseUrl(`/api/dashboards/uid/${uid}`));\n};\n\nconst uiDelete = (uid: string, title: string) => {\n  e2e.pages.Dashboard.visit(uid);\n  e2e.components.PageToolbar.item('Dashboard settings').click();\n  e2e.pages.Dashboard.Settings.General.deleteDashBoard().click();\n  e2e.pages.ConfirmModal.delete().click();\n  e2e.flows.assertSuccessNotification();\n\n  e2e.pages.Dashboards.visit();\n\n  // @todo replace `e2e.pages.Dashboards.dashboards` with this when argument is empty\n  if (e2e.components.Search.dashboardItems) {\n    e2e.components.Search.dashboardItems().each((item) => e2e().wrap(item).should('not.contain', title));\n  } else {\n    e2e()\n      .get('[aria-label^=\"Dashboard search item \"]')\n      .each((item) => e2e().wrap(item).should('not.contain', title));\n  }\n};\n","import { e2e } from '../index';\nimport { fromBaseUrl } from '../support/url';\n\nexport interface DeleteDataSourceConfig {\n  id: string;\n  name: string;\n  quick?: boolean;\n}\n\nexport const deleteDataSource = ({ id, name, quick = false }: DeleteDataSourceConfig) => {\n  e2e().logToConsole('Deleting data source with name:', name);\n\n  if (quick) {\n    quickDelete(name);\n  } else {\n    uiDelete(name);\n  }\n\n  e2e().logToConsole('Deleted data source with name:', name);\n\n  e2e.getScenarioContext().then(({ addedDataSources }: any) => {\n    e2e.setScenarioContext({\n      addedDataSources: addedDataSources.filter((dataSource: DeleteDataSourceConfig) => {\n        return dataSource.id !== id && dataSource.name !== name;\n      }),\n    });\n  });\n};\n\nconst quickDelete = (name: string) => {\n  e2e().request('DELETE', fromBaseUrl(`/api/datasources/name/${name}`));\n};\n\nconst uiDelete = (name: string) => {\n  e2e.pages.DataSources.visit();\n  e2e.pages.DataSources.dataSources(name).click();\n  e2e.pages.DataSource.delete().click();\n  e2e.pages.ConfirmModal.delete().click();\n\n  e2e.pages.DataSources.visit();\n\n  // @todo replace `e2e.pages.DataSources.dataSources` with this when argument is empty\n  e2e()\n    .get('[aria-label^=\"Data source list item \"]')\n    .each((item) => e2e().wrap(item).should('not.contain', name));\n};\n","// https://nodejs.org/api/os.html#os_os_platform\nenum Platform {\n  osx = 'darwin',\n  windows = 'win32',\n  linux = 'linux',\n  aix = 'aix',\n  freebsd = 'freebsd',\n  openbsd = 'openbsd',\n  sunos = 'sunos',\n}\n\nexport const undo = () => {\n  switch (Cypress.platform) {\n    case Platform.osx:\n      return '{cmd}z';\n    default:\n      return '{ctrl}z';\n  }\n};\n","import { DeleteDashboardConfig } from '.';\nimport { e2e } from '../index';\nimport { fromBaseUrl, getDashboardUid } from '../support/url';\n\ntype Panel = {\n  title: string;\n  [key: string]: unknown;\n};\n\nexport type Dashboard = { title: string; panels: Panel[]; uid: string; [key: string]: unknown };\n\n/**\n * Smoke test a particular dashboard by quickly importing a json file and validate that all the panels finish loading\n * @param dashboardToImport a sample dashboard\n * @param queryTimeout a number of ms to wait for the imported dashboard to finish loading\n */\nexport const importDashboard = (dashboardToImport: Dashboard, queryTimeout?: number) => {\n  e2e().visit(fromBaseUrl('/dashboard/import'));\n\n  // Note: normally we'd use 'click' and then 'type' here, but the json object is so big that using 'val' is much faster\n  e2e.components.DashboardImportPage.textarea()\n    .should('be.visible')\n    .click()\n    .invoke('val', JSON.stringify(dashboardToImport));\n  e2e.components.DashboardImportPage.submit().should('be.visible').click();\n  e2e.components.ImportDashboardForm.name().should('be.visible').click().clear().type(dashboardToImport.title);\n  e2e.components.ImportDashboardForm.submit().should('be.visible').click();\n\n  // wait for dashboard to load\n  e2e().wait(queryTimeout || 6000);\n\n  // save the newly imported dashboard to context so it'll get properly deleted later\n  e2e()\n    .url()\n    .should('contain', '/d/')\n    .then((url: string) => {\n      const uid = getDashboardUid(url);\n\n      e2e.getScenarioContext().then(({ addedDashboards }: { addedDashboards: DeleteDashboardConfig[] }) => {\n        e2e.setScenarioContext({\n          addedDashboards: [...addedDashboards, { title: dashboardToImport.title, uid }],\n        });\n      });\n\n      expect(dashboardToImport.uid).to.equal(uid);\n    });\n\n  dashboardToImport.panels.forEach((panel) => {\n    // Look at the json data\n    e2e.components.Panels.Panel.title(panel.title).should('be.visible').click();\n    e2e.components.Panels.Panel.headerItems('Inspect').should('be.visible').click();\n    e2e.components.Tab.title('JSON').should('be.visible').click();\n    e2e.components.PanelInspector.Json.content().should('be.visible').contains('Panel JSON').click();\n    e2e.components.Select.option().should('be.visible').contains('Data').click();\n\n    // ensures that panel has loaded without knowingly hitting an error\n    // note: this does not prove that data came back as we expected it,\n    // it could get `state: Done` for no data for example\n    // but it ensures we didn't hit a 401 or 500 or something like that\n    e2e.components.CodeEditor.container().should('be.visible').contains('\"state\": \"Done\"');\n\n    // need to close panel\n    e2e.components.Drawer.General.close().click();\n  });\n};\n","import { DeleteDataSourceConfig } from './deleteDataSource';\nimport { e2e } from '../index';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport interface AddDataSourceConfig {\n  basicAuth: boolean;\n  basicAuthPassword: string;\n  basicAuthUser: string;\n  /**\n   * @deprecated check health request is no longer supported\n   */\n  checkHealth: boolean;\n  expectedAlertMessage: string | RegExp;\n  form: () => void;\n  name: string;\n  skipTlsVerify: boolean;\n  type: string;\n  timeout?: number;\n}\n\n// @todo this actually returns type `Cypress.Chainable<AddDaaSourceConfig>`\nexport const addDataSource = (config?: Partial<AddDataSourceConfig>) => {\n  const fullConfig: AddDataSourceConfig = {\n    basicAuth: false,\n    basicAuthPassword: '',\n    basicAuthUser: '',\n    checkHealth: false,\n    expectedAlertMessage: 'Data source is working',\n    form: () => {},\n    name: `e2e-${uuidv4()}`,\n    skipTlsVerify: false,\n    type: 'TestData DB',\n    ...config,\n  };\n\n  const {\n    basicAuth,\n    basicAuthPassword,\n    basicAuthUser,\n    expectedAlertMessage,\n    form,\n    name,\n    skipTlsVerify,\n    type,\n    timeout,\n  } = fullConfig;\n\n  e2e().logToConsole('Adding data source with name:', name);\n  e2e.pages.AddDataSource.visit();\n  e2e.pages.AddDataSource.dataSourcePlugins(type)\n    .scrollIntoView()\n    .should('be.visible') // prevents flakiness\n    .click();\n\n  e2e.pages.DataSource.name().clear();\n  e2e.pages.DataSource.name().type(name);\n\n  if (basicAuth) {\n    e2e().contains('label', 'Basic auth').scrollIntoView().click();\n    e2e()\n      .contains('.gf-form-group', 'Basic Auth Details')\n      .should('be.visible')\n      .scrollIntoView()\n      .within(() => {\n        if (basicAuthUser) {\n          e2e().get('[placeholder=user]').type(basicAuthUser);\n        }\n        if (basicAuthPassword) {\n          e2e().get('[placeholder=Password]').type(basicAuthPassword);\n        }\n      });\n  }\n\n  if (skipTlsVerify) {\n    e2e().contains('label', 'Skip TLS Verify').scrollIntoView().click();\n  }\n\n  form();\n\n  e2e.pages.DataSource.saveAndTest().click();\n\n  // use the timeout passed in if it exists, otherwise, continue to use the default\n  e2e.pages.DataSource.alert()\n    .should('exist')\n    .contains(expectedAlertMessage, {\n      timeout: timeout ?? e2e.config().defaultCommandTimeout,\n    });\n  e2e().logToConsole('Added data source with name:', name);\n\n  return e2e()\n    .url()\n    .then(() => {\n      e2e.getScenarioContext().then(({ addedDataSources }: any) => {\n        e2e.setScenarioContext({\n          addedDataSources: [...addedDataSources, { name } as DeleteDataSourceConfig],\n        });\n      });\n\n      // @todo remove `wrap` when possible\n      return e2e().wrap(\n        {\n          config: fullConfig,\n        },\n        { log: false }\n      );\n    });\n};\n","import { configurePanel, PartialAddPanelConfig } from './configurePanel';\nimport { getScenarioContext } from '../support/scenarioContext';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport const addPanel = (config?: Partial<PartialAddPanelConfig>) =>\n  getScenarioContext().then(({ lastAddedDataSource }: any) =>\n    configurePanel({\n      dataSourceName: lastAddedDataSource,\n      panelTitle: `e2e-${uuidv4()}`,\n      ...config,\n      isEdit: false,\n    })\n  );\n","import { e2e } from '../index';\n\nexport const assertSuccessNotification = () => {\n  if (e2e.components.Alert.alertV2) {\n    e2e.components.Alert.alertV2('success').should('exist');\n  } else {\n    e2e.components.Alert.alert('success').should('exist');\n  }\n};\n","import { configurePanel, PartialEditPanelConfig } from './configurePanel';\n\nexport const editPanel = (config: Partial<PartialEditPanelConfig>) =>\n  configurePanel({\n    ...config,\n    isEdit: true,\n  });\n","import { e2e } from '../index';\n\nconst DEFAULT_USERNAME = 'admin';\nconst DEFAULT_PASSWORD = 'admin';\n\nexport const login = (username = DEFAULT_USERNAME, password = DEFAULT_PASSWORD) => {\n  e2e().logToConsole('Logging in with username:', username);\n  e2e.pages.Login.visit();\n  e2e.pages.Login.username()\n    .should('be.visible') // prevents flakiness\n    .type(username);\n  e2e.pages.Login.password().type(password);\n  e2e.pages.Login.submit().click();\n\n  // Local tests will have insecure credentials\n  if (password === DEFAULT_PASSWORD) {\n    e2e.pages.Login.skip().should('be.visible').click();\n  }\n\n  e2e().get('.login-page').should('not.exist');\n  e2e().logToConsole('Logged in with username:', username);\n};\n","import { e2e } from '../index';\nimport { getScenarioContext } from '../support/scenarioContext';\nimport { setDashboardTimeRange, TimeRangeConfig } from './setDashboardTimeRange';\n\ninterface OpenDashboardDefault {\n  uid: string;\n}\n\ninterface OpenDashboardOptional {\n  timeRange?: TimeRangeConfig;\n  queryParams?: object;\n}\n\nexport type PartialOpenDashboardConfig = Partial<OpenDashboardDefault> & OpenDashboardOptional;\nexport type OpenDashboardConfig = OpenDashboardDefault & OpenDashboardOptional;\n\n// @todo this actually returns type `Cypress.Chainable<OpenDashboardConfig>`\nexport const openDashboard = (config?: PartialOpenDashboardConfig) =>\n  getScenarioContext().then(({ lastAddedDashboardUid }: any) => {\n    const fullConfig: OpenDashboardConfig = {\n      uid: lastAddedDashboardUid,\n      ...config,\n    };\n\n    const { timeRange, uid, queryParams } = fullConfig;\n\n    e2e.pages.Dashboard.visit(uid, queryParams);\n\n    if (timeRange) {\n      setDashboardTimeRange(timeRange);\n    }\n\n    // @todo remove `wrap` when possible\n    return e2e().wrap({ config: fullConfig }, { log: false });\n  });\n","import { e2e } from '../index';\n\nexport const revertAllChanges = () => {\n  e2e.getScenarioContext().then(({ addedDashboards, addedDataSources }: any) => {\n    addedDashboards.forEach((dashboard: any) => e2e.flows.deleteDashboard({ ...dashboard, quick: true }));\n    addedDataSources.forEach((dataSource: any) => e2e.flows.deleteDataSource({ ...dataSource, quick: true }));\n  });\n};\n","import { e2e } from '../index';\n\nexport const saveDashboard = () => {\n  e2e.components.PageToolbar.item('Save dashboard').click();\n\n  e2e.pages.SaveDashboardModal.save().click();\n\n  e2e.flows.assertSuccessNotification();\n};\n","import { importDashboard, Dashboard } from './importDashboard';\nimport { e2e } from '../index';\n\n/**\n * Smoke test several dashboard json files from a test directory\n * and validate that all the panels in each import finish loading their queries\n * @param dirPath the relative path to a directory which contains json files representing dashboards,\n * for example if your dashboards live in `cypress/testDashboards` you can pass `/testDashboards`\n * @param queryTimeout a number of ms to wait for the imported dashboard to finish loading\n */\nexport const importDashboards = async (dirPath: string, queryTimeout?: number) => {\n  e2e()\n    .getJSONFilesFromDir(dirPath)\n    .then((jsonFiles: Dashboard[]) => {\n      jsonFiles.forEach((file) => {\n        importDashboard(file, queryTimeout || 6000);\n      });\n    });\n};\n","/**\n * A library for writing end-to-end tests for Grafana and its ecosystem.\n *\n * @packageDocumentation\n */\nimport { e2eScenario, ScenarioArguments } from './support/scenario';\nimport { getScenarioContext, setScenarioContext } from './support/scenarioContext';\nimport { e2eFactory } from './support';\nimport { E2ESelectors, Selectors, selectors } from '@grafana/e2e-selectors';\nimport * as flows from './flows';\nimport * as typings from './typings';\n\nconst e2eObject = {\n  env: (args: string) => Cypress.env(args),\n  config: () => Cypress.config(),\n  blobToBase64String: (blob: any) => Cypress.Blob.blobToBase64String(blob),\n  imgSrcToBlob: (url: string) => Cypress.Blob.imgSrcToBlob(url),\n  scenario: (args: ScenarioArguments) => e2eScenario(args),\n  pages: e2eFactory({ selectors: selectors.pages }),\n  typings,\n  components: e2eFactory({ selectors: selectors.components }),\n  flows,\n  getScenarioContext,\n  setScenarioContext,\n  getSelectors: <T extends Selectors>(selectors: E2ESelectors<T>) => e2eFactory({ selectors }),\n};\n\nexport const e2e: (() => Cypress.cy) & typeof e2eObject = Object.assign(() => cy, e2eObject);\n","import { e2e } from '../';\n\nexport interface ScenarioArguments {\n  describeName: string;\n  itName: string;\n  scenario: Function;\n  skipScenario?: boolean;\n  addScenarioDataSource?: boolean;\n  addScenarioDashBoard?: boolean;\n}\n\nexport const e2eScenario = ({\n  describeName,\n  itName,\n  scenario,\n  skipScenario = false,\n  addScenarioDataSource = false,\n  addScenarioDashBoard = false,\n}: ScenarioArguments) => {\n  describe(describeName, () => {\n    if (skipScenario) {\n      it.skip(itName, () => scenario());\n    } else {\n      before(() => e2e.flows.login(e2e.env('USERNAME'), e2e.env('PASSWORD')));\n\n      beforeEach(() => {\n        Cypress.Cookies.preserveOnce('grafana_session');\n\n        if (addScenarioDataSource) {\n          e2e.flows.addDataSource();\n        }\n        if (addScenarioDashBoard) {\n          e2e.flows.addDashboard();\n        }\n      });\n\n      afterEach(() => e2e.flows.revertAllChanges());\n      after(() => e2e().clearCookies());\n\n      it(itName, () => scenario());\n\n      // @todo remove when possible: https://github.com/cypress-io/cypress/issues/2831\n      it('temporary', () => {});\n    }\n  });\n};\n"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","TypeError","pop","push","__read","o","m","r","ar","error","__spreadArray","to","from","pack","l","Array","slice","concat","scenarioContext","addedDashboards","addedDataSources","lastAddedDashboard","lastProperty","lastAddedDashboardUid","lastAddedDataSource","lastAddedDataSourceId","items","key","getScenarioContext","e2e","wrap","log","invoke","Selector","selector","fromBaseUrl","url","URL","env","config","baseUrl","href","getDashboardUid","matches","pathname","match","Error","processSelectors","e2eObjects","selectors","logOutput","data","logToConsole","keys","index","args","queryParams","parsedUrl","visit","qs","options","startsWith","get","textOrOptions","undefined","selector_1","selectorText","text","e2eFactory","_a","selectOption","fullConfig","clickToOpen","forceClickOption","container","optionText","within","click","components","Select","option","filter","textContent","includes","test","scrollIntoView","force","setDashboardTimeRange","zone","TimePicker","openButton","contains","TimeZonePicker","containerV2","absoluteTimeRangeTitle","fromField","clear","type","toField","applyTimeRange","getRandomValues","crypto","bind","msCrypto","rnds8","Uint8Array","rng","validate","uuid","REGEX","byteToHex","toString","substr","v4","buf","offset","rnds","random","arr","toLowerCase","stringify","PanelMenuItems","addAnnotations","configs","pages","Dashboard","Settings","General","sectionItems","forEach","isFirst","Annotations","List","addAnnotationCTAV2","addAnnotationCTA","cy","dataSource","dataSourceForm","name","DataSourcePicker","addAnnotation","addVariables","map","hide","Variables","addVariableCTAV2","addVariableCTA","newButton","constantValue","query","regex","Edit","generalTypeSelect","should","singleValue","generalLabelInput","generalNameInput","QueryVariable","queryOptionsDataSourceSelect","input","ConstantVariable","constantOptionsQueryInput","queryOptionsQueryInput","queryOptionsRegExInput","focused","blur","previewOfValuesOption","previewOfValues","expect","equals","submitButton","addVariable","configurePanel","chartData","method","route","dashboardUid","matchScreenshot","saveDashboard","screenshotName","visitDashboardAtStart","dataSourceName","isEdit","panelTitle","queriesForm","timeRange","visualizationName","flows","openDashboard","uid","Panels","Panel","title","headerItems","PageToolbar","item","AddDashboard","addNewPanel","intercept","as","wait","changeTitle","PanelEditor","OptionsPane","fieldLabel","PluginVisualization","closeOptions","RefreshPicker","runButton","containerByTitle","find","screenshot","compareScreenshots","toggleVizOptions","quickDelete","request","uiDelete","deleteDashBoard","ConfirmModal","delete","assertSuccessNotification","Dashboards","Search","dashboardItems","each","DataSources","dataSources","DataSource","Platform","importDashboard","dashboardToImport","queryTimeout","DashboardImportPage","textarea","JSON","submit","ImportDashboardForm","setScenarioContext","equal","panels","panel","Tab","PanelInspector","Json","content","CodeEditor","Drawer","close","annotations","uuidv4","variables","BackButton","backArrow","SaveDashboardAsModal","newName","save","basicAuth","basicAuthPassword","basicAuthUser","checkHealth","expectedAlertMessage","form","skipTlsVerify","timeout","AddDataSource","dataSourcePlugins","saveAndTest","alert","defaultCommandTimeout","Alert","alertV2","_b","quick","dashboard","id","username","password","Login","skip","menu","deleteDashboard","deleteDataSource","SaveDashboardModal","dirPath","getJSONFilesFromDir","jsonFiles","file","Cypress","platform","osx","e2eObject","blobToBase64String","blob","Blob","imgSrcToBlob","scenario","describeName","itName","skipScenario","_c","addScenarioDataSource","_d","addScenarioDashBoard","describe","it","before","login","beforeEach","Cookies","preserveOnce","addDataSource","addDashboard","afterEach","revertAllChanges","after","clearCookies","typings","newContext","entries","getSelectors"],"mappings":"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"}